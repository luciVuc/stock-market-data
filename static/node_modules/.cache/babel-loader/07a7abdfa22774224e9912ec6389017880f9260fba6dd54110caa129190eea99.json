{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lucian\\\\Documents\\\\DEV\\\\nodejs\\\\stock-market-api\\\\dev\\\\static\\\\src\\\\components\\\\Chart.tsx\";\n// import React from \"react\";\n\n// export function Chart (props: IChart) {\n//   return <>{props}</>;\n// }\n\n// export default Chart;\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { format } from \"d3-format\";\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\nimport { BarSeries, CandlestickSeries } from \"react-stockcharts/lib/series\";\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\nimport { last } from \"react-stockcharts/lib/utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n;\nexport const CandleStickStockChart = fitWidth(_c = props => {\n  const {\n    type,\n    width,\n    ratio\n  } = props;\n  const xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor(d => d.date);\n  const {\n    data,\n    xScale,\n    xAccessor,\n    displayXAccessor\n  } = xScaleProvider(props.data);\n  const start = xAccessor(last(data));\n  const end = xAccessor(data[Math.max(0, data.length - 100)]);\n  // const start = xAccessor(last(data[Math.max(end, data.length - 1)]));\n  const xExtents = [start, end];\n  return /*#__PURE__*/_jsxDEV(ChartCanvas, {\n    height: 400,\n    ratio: ratio,\n    width: width,\n    margin: {\n      left: 50,\n      right: 50,\n      top: 10,\n      bottom: 30\n    },\n    type: type,\n    seriesName: \"MSFT\",\n    data: data,\n    xScale: xScale,\n    xAccessor: xAccessor,\n    displayXAccessor: displayXAccessor,\n    xExtents: xExtents,\n    children: [/*#__PURE__*/_jsxDEV(Chart, {\n      id: 1,\n      yExtents: d => [d.high, d.low],\n      children: [/*#__PURE__*/_jsxDEV(XAxis, {\n        axisAt: \"bottom\",\n        orient: \"bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n        axisAt: \"right\",\n        orient: \"right\",\n        ticks: 5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(CandlestickSeries, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Chart, {\n      id: 2,\n      origin: (w, h) => [0, h - 150],\n      height: 150,\n      yExtents: d => d.volume,\n      children: [/*#__PURE__*/_jsxDEV(YAxis, {\n        axisAt: \"left\",\n        orient: \"left\",\n        ticks: 5,\n        tickFormat: format(\".2s\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(BarSeries, {\n        yAccessor: d => d.volume,\n        fill: d => d.close > d.open ? \"#6BA583\" : \"red\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 4\n  }, this);\n});\n_c2 = CandleStickStockChart;\nCandleStickStockChart.propTypes = {\n  data: PropTypes.array.isRequired,\n  width: PropTypes.number.isRequired,\n  ratio: PropTypes.number.isRequired,\n  type: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired\n};\nCandleStickStockChart.defaultProps = {\n  type: \"svg\"\n};\n// CandleStickStockChart = fitWidth(CandleStickStockChart);\n\nexport default CandleStickStockChart;\nvar _c, _c2;\n$RefreshReg$(_c, \"CandleStickStockChart$fitWidth\");\n$RefreshReg$(_c2, \"CandleStickStockChart\");","map":{"version":3,"names":["React","PropTypes","format","ChartCanvas","Chart","BarSeries","CandlestickSeries","XAxis","YAxis","discontinuousTimeScaleProvider","fitWidth","last","CandleStickStockChart","props","type","width","ratio","xScaleProvider","inputDateAccessor","d","date","data","xScale","xAccessor","displayXAccessor","start","end","Math","max","length","xExtents","left","right","top","bottom","high","low","w","h","volume","close","open","propTypes","array","isRequired","number","oneOf","defaultProps"],"sources":["C:/Users/Lucian/Documents/DEV/nodejs/stock-market-api/dev/static/src/components/Chart.tsx"],"sourcesContent":["// import React from \"react\";\r\n\r\n// export function Chart (props: IChart) {\r\n//   return <>{props}</>;\r\n// }\r\n\r\n// export default Chart;\r\n\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { format } from \"d3-format\";\r\n\r\nimport { ChartCanvas, Chart } from \"react-stockcharts\";\r\nimport {\r\n\tBarSeries,\r\n\tCandlestickSeries,\r\n} from \"react-stockcharts/lib/series\";\r\nimport { XAxis, YAxis } from \"react-stockcharts/lib/axes\";\r\n\r\nimport { discontinuousTimeScaleProvider } from \"react-stockcharts/lib/scale\";\r\nimport { fitWidth } from \"react-stockcharts/lib/helper\";\r\nimport { last } from \"react-stockcharts/lib/utils\";\r\n\r\nexport interface IDataPoint {\r\n  date: Date;\r\n  close: number;\r\n  high: number;\r\n  low: number;\r\n  open: number;\r\n  volume: number;\r\n}\r\n\r\nexport interface ICandleStickStockChart {\r\n\tdata: IDataPoint[],\r\n\twidth: number,\r\n\tratio: number,\r\n\ttype: \"svg\" | \"hybrid\"\r\n};\r\n\r\nexport const CandleStickStockChart = fitWidth((props: ICandleStickStockChart) => {\r\n  const { type, width, ratio } = props;\r\n\t\tconst xScaleProvider = discontinuousTimeScaleProvider.inputDateAccessor((d: IDataPoint) => d.date);\r\n\t\tconst {\r\n      data,\r\n\t\t\txScale,\r\n\t\t\txAccessor,\r\n\t\t\tdisplayXAccessor,\r\n\t\t} = xScaleProvider(props.data);\r\n\r\n\t\tconst start = xAccessor(last(data));\r\n\t\tconst end = xAccessor(data[Math.max(0, data.length - 100)]);\r\n\t\t// const start = xAccessor(last(data[Math.max(end, data.length - 1)]));\r\n\t\tconst xExtents = [start, end];\r\n\r\n\t\treturn (\r\n\t\t\t<ChartCanvas height={400}\r\n\t\t\t\tratio={ratio}\r\n\t\t\t\twidth={width}\r\n\t\t\t\tmargin={{ left: 50, right: 50, top: 10, bottom: 30 }}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tseriesName=\"MSFT\"\r\n\t\t\t\tdata={data}\r\n\t\t\t\txScale={xScale}\r\n\t\t\t\txAccessor={xAccessor}\r\n\t\t\t\tdisplayXAccessor={displayXAccessor}\r\n\t\t\t\txExtents={xExtents}\r\n\t\t\t>\r\n\r\n\t\t\t\t<Chart id={1} yExtents={(d: IDataPoint) => [d.high, d.low]}>\r\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\"/>\r\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} />\r\n\t\t\t\t\t<CandlestickSeries />\r\n\t\t\t\t</Chart>\r\n\t\t\t\t<Chart id={2} origin={(w: number, h: number) => [0, h - 150]} height={150} yExtents={(d: IDataPoint) => d.volume}>\r\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={format(\".2s\")}/>\r\n\t\t\t\t\t<BarSeries yAccessor={(d: IDataPoint) => d.volume} fill={(d: IDataPoint) => d.close > d.open ? \"#6BA583\" : \"red\"} />\r\n\t\t\t\t</Chart>\r\n\t\t\t</ChartCanvas>\r\n\t\t);\r\n});\r\n\r\nCandleStickStockChart.propTypes = {\r\n\tdata: PropTypes.array.isRequired,\r\n\twidth: PropTypes.number.isRequired,\r\n\tratio: PropTypes.number.isRequired,\r\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\r\n};\r\n\r\nCandleStickStockChart.defaultProps = {\r\n\ttype: \"svg\",\r\n};\r\n// CandleStickStockChart = fitWidth(CandleStickStockChart);\r\n\r\nexport default CandleStickStockChart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}