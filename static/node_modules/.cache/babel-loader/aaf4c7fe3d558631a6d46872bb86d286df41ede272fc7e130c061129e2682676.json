{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { Entity } from \"./Entity\";\nimport { StyleRule } from \"./Utils\";\nimport { MultiDisposer, CounterDisposer } from \"../../core/util/Disposer\";\nimport * as $utils from \"./Utils\";\n/**\r\n * @ignore\r\n */\nvar rules;\n/**\r\n * @ignore\r\n */\nfunction modalCSS(element, root, _prefix) {\n  var ic = root.interfaceColors;\n  var active = ic.get(\"secondaryButton\").toCSS();\n  var text = ic.get(\"text\").toCSS();\n  var shadow = ic.get(\"alternativeBackground\").toCSS(0.45);\n  //const altbg = ic.get(\"alternativeBackground\")!.toCSS();\n  if (!rules) {\n    var disposer_1 = new MultiDisposer([new StyleRule(element, \".am5-modal\", {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"position\": \"absolute\",\n      \"z-index\": \"100000\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }), new StyleRule(element, \".am5-modal-curtain\", {\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"position\": \"absolute\",\n      \"background\": ic.get(\"background\").toCSS(0.5),\n      \"z-index\": \"100\"\n    }), new StyleRule(element, \".am5-modal-wrapper\", {\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"position\": \"absolute\",\n      \"text-align\": \"center\",\n      \"white-space\": \"nowrap\",\n      \"background\": ic.get(\"background\").toCSS(0.5),\n      \"z-index\": \"101\"\n    }), new StyleRule(element, \".am5-modal-wrapper:before\", {\n      \"content\": \"''\",\n      \"display\": \"inline-block\",\n      \"height\": \"100%\",\n      \"vertical-align\": \"middle\",\n      \"margin-right\": \"-0.25em\"\n    }), new StyleRule(element, \".am5-modal-content\", {\n      \"display\": \"inline-block\",\n      \"padding\": \"1.2em\",\n      \"vertical-align\": \"middle\",\n      \"text-align\": \"left\",\n      \"white-space\": \"normal\",\n      \"background\": ic.get(\"background\").toCSS(),\n      //\"border\": \"1px solid \" + ic.get(\"alternativeBackground\")!.toCSS(),\n      \"border-radius\": \"4px\",\n      \"-webkit-box-shadow\": \"0px 0px 36px 0px \" + shadow,\n      \"box-shadow\": \"0px 0px 36px 0px \" + shadow,\n      \"color\": text\n    }), new StyleRule(element, \".am5-modal-content h1\", {\n      \"font-size\": \"1em\",\n      \"margin\": \"0 0 0.5em 0\"\n    }), new StyleRule(element, \".am5-modal-table\", {\n      \"display\": \"table\",\n      \"margin\": \"1em 0\"\n    }), new StyleRule(element, \".am5-modal-table-row\", {\n      \"display\": \"table-row\"\n    }), new StyleRule(element, \".am5-modal-table-heading\", {\n      \"display\": \"table-heading\",\n      \"padding\": \"3px 10px 3px 0\"\n    }), new StyleRule(element, \".am5-modal-table-cell\", {\n      \"display\": \"table-cell\",\n      \"padding\": \"3px 0 3px 0\"\n    }), new StyleRule(element, \".am5-modal-table-cell > *\", {\n      \"vertical-align\": \"middle\"\n    }), new StyleRule(element, \".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select\", {\n      \"border\": \"1px solid \" + active,\n      \"border-radius\": \"4px\",\n      \"padding\": \"3px 5px\",\n      \"margin\": \"2px\"\n    }), new StyleRule(element, \".am5-modal-input-narrow\", {\n      \"width\": \"50px\"\n    }), new StyleRule(element, \".am5-modal-button\", {\n      \"font-weight\": \"400\",\n      \"color\": ic.get(\"secondaryButtonText\").toCSS(),\n      \"line-height\": \"1.5\",\n      \"text-align\": \"center\",\n      \"text-decoration\": \"none\",\n      \"vertical-align\": \"middle\",\n      \"cursor\": \"pointer\",\n      \"padding\": \"0.2em 0.8em\",\n      \"font-size\": \"1em\",\n      \"border-radius\": \"0.25em\",\n      \"margin\": \"0 0.25em 0 0\",\n      \"border\": \"1px solid \" + ic.get(\"secondaryButtonStroke\").toCSS(),\n      \"background\": ic.get(\"secondaryButton\").toCSS()\n    }), new StyleRule(element, \".am5-modal-button:hover\", {\n      \"background\": ic.get(\"secondaryButtonHover\").toCSS()\n    }), new StyleRule(element, \".am5-modal-button.am5-modal-primary\", {\n      \"color\": ic.get(\"primaryButtonText\").toCSS(),\n      \"border\": \"1px solid \" + ic.get(\"primaryButtonStroke\").toCSS(),\n      \"background\": ic.get(\"primaryButton\").toCSS()\n    }), new StyleRule(element, \".am5-modal-button.am5-modal-primary:hover\", {\n      \"background\": ic.get(\"primaryButtonHover\").toCSS()\n    })]);\n    rules = new CounterDisposer(function () {\n      rules = undefined;\n      disposer_1.dispose();\n    });\n  }\n  return rules.increment();\n}\n/**\r\n * Used to display a modal dialog with HTML content.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/modal-popups/} for more info\r\n */\nvar Modal = /** @class */function (_super) {\n  __extends(Modal, _super);\n  function Modal() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  //protected _currentPass: number = 0;\n  Object.defineProperty(Modal.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _this = this;\n      // Applying themes because this will not have parents\n      _super.prototype._afterNewApplyThemes.call(this);\n      // Defaults\n      this._setRawDefault(\"deactivateRoot\", true);\n      // Load CSS\n      modalCSS($utils.getShadowRoot(this._root.dom), this._root);\n      // Create elements\n      var container = document.createElement(\"div\");\n      container.className = \"am5-modal\";\n      container.style.display = \"none\";\n      this.root._inner.appendChild(container);\n      this.setPrivate(\"container\", container);\n      var curtain = document.createElement(\"div\");\n      curtain.className = \"am5-modal-curtain\";\n      container.appendChild(curtain);\n      this.setPrivate(\"curtain\", curtain);\n      $utils.addEventListener(curtain, \"click\", function () {\n        _this.cancel();\n      });\n      var wrapper = document.createElement(\"div\");\n      wrapper.className = \"am5-modal-wrapper\";\n      container.appendChild(wrapper);\n      this.setPrivate(\"wrapper\", wrapper);\n      var content = document.createElement(\"div\");\n      content.className = \"am5-modal-content\";\n      wrapper.appendChild(content);\n      this.setPrivate(\"content\", content);\n      var html = this.get(\"content\");\n      if (html) {\n        content.innerHTML = html;\n      }\n      // Close on ESC\n      if ($utils.supports(\"keyboardevents\")) {\n        this._disposers.push($utils.addEventListener(document, \"keydown\", function (ev) {\n          if (_this.isOpen() && ev.keyCode == 27) {\n            _this.cancel();\n          }\n        }));\n      }\n    }\n  });\n  Object.defineProperty(Modal.prototype, \"_beforeChanged\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype._beforeChanged.call(this);\n      if (this.isDirty(\"content\")) {\n        this.getPrivate(\"content\").innerHTML = this.get(\"content\", \"\");\n      }\n    }\n  });\n  /**\r\n   * Returns `true` if modal is currently open.\r\n   *\r\n   * @return  Modal open?\r\n   */\n  Object.defineProperty(Modal.prototype, \"isOpen\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      return this.getPrivate(\"container\").style.display != \"none\";\n    }\n  });\n  /**\r\n   * Opens modal.\r\n   */\n  Object.defineProperty(Modal.prototype, \"open\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _this = this;\n      this.getPrivate(\"container\").style.display = \"block\";\n      if (this.get(\"deactivateRoot\")) {\n        this.setTimeout(function () {\n          _this._root._renderer.interactionsEnabled = false;\n        }, 10);\n      }\n      this.events.dispatch(\"opened\", {\n        type: \"opened\",\n        target: this\n      });\n    }\n  });\n  /**\r\n   * Closes modal.\r\n   */\n  Object.defineProperty(Modal.prototype, \"close\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this.getPrivate(\"container\").style.display = \"none\";\n      if (this.get(\"deactivateRoot\")) {\n        this._root._renderer.interactionsEnabled = true;\n      }\n      this.events.dispatch(\"closed\", {\n        type: \"closed\",\n        target: this\n      });\n    }\n  });\n  /**\r\n   * Closes modal and invokes `cancelled` event.\r\n   */\n  Object.defineProperty(Modal.prototype, \"cancel\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this.getPrivate(\"container\").style.display = \"none\";\n      if (this.get(\"deactivateRoot\")) {\n        this._root._renderer.interactionsEnabled = true;\n      }\n      this.events.dispatch(\"cancelled\", {\n        type: \"cancelled\",\n        target: this\n      });\n    }\n  });\n  /**\r\n   * Disposes modal.\r\n   */\n  Object.defineProperty(Modal.prototype, \"dispose\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype.dispose.call(this);\n      this.root.dom.removeChild(this.getPrivate(\"container\"));\n    }\n  });\n  Object.defineProperty(Modal, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"Modal\"\n  });\n  Object.defineProperty(Modal, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: Entity.classNames.concat([Modal.className])\n  });\n  return Modal;\n}(Entity);\nexport { Modal };","map":{"version":3,"mappings":"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","names":["Entity","StyleRule","MultiDisposer","CounterDisposer","$utils","rules","modalCSS","element","root","_prefix","ic","interfaceColors","active","get","toCSS","text","shadow","disposer_1","undefined","dispose","increment","__extends","_super","_afterNewApplyThemes","_setRawDefault","getShadowRoot","_root","dom","container","document","createElement","className","style","display","_inner","appendChild","setPrivate","curtain","addEventListener","_this","cancel","wrapper","content","html","innerHTML","supports","_disposers","push","ev","isOpen","keyCode","_beforeChanged","isDirty","getPrivate","setTimeout","_renderer","interactionsEnabled","events","dispatch","type","target","removeChild","Object","classNames","concat","Modal"],"sources":["C:\\Users\\Lucian\\Documents\\DEV\\nodejs\\stock-market-api\\dev\\static\\node_modules\\src\\.internal\\core\\util\\Modal.ts"],"sourcesContent":["import type { Root } from \"../Root\"\n\nimport { Entity, IEntitySettings, IEntityPrivate, IEntityEvents } from \"./Entity\";\nimport { StyleRule } from \"./Utils\"\nimport { MultiDisposer, IDisposer, CounterDisposer } from \"../../core/util/Disposer\";\n\nimport * as $utils from \"./Utils\"\n\n\n/**\n * @ignore\n */\nlet rules: CounterDisposer | undefined;\n\n/**\n * @ignore\n */\nfunction modalCSS(element: ShadowRoot | null, root: Root, _prefix?: string): IDisposer {\n\tconst ic = root.interfaceColors;\n\tconst active = ic.get(\"secondaryButton\")!.toCSS();\n\tconst text = ic.get(\"text\")!.toCSS();\n\tconst shadow = ic.get(\"alternativeBackground\")!.toCSS(0.45);\n\t//const altbg = ic.get(\"alternativeBackground\")!.toCSS();\n\n\tif (!rules) {\n\t\tconst disposer = new MultiDisposer([\n\n\t\t\tnew StyleRule(element, \".am5-modal\", {\n\t\t\t\t\"width\": \"100%\",\n\t\t\t\t\"height\": \"100%\",\n\t\t\t\t\"position\": \"absolute\",\n\t\t\t\t\"z-index\": \"100000\",\n\t\t\t\t\"top\": \"0\",\n\t\t\t\t\"left\": \"0\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-curtain\", {\n\t\t\t\t\"top\": \"0\",\n\t\t\t\t\"left\": \"0\",\n\t\t\t\t\"width\": \"100%\",\n\t\t\t\t\"height\": \"100%\",\n\t\t\t\t\"position\": \"absolute\",\n\t\t\t\t\"background\": ic.get(\"background\")!.toCSS(0.5),\n\t\t\t\t\"z-index\": \"100\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-wrapper\", {\n\t\t\t\t\"top\": \"0\",\n\t\t\t\t\"left\": \"0\",\n\t\t\t\t\"width\": \"100%\",\n\t\t\t\t\"height\": \"100%\",\n\t\t\t\t\"position\": \"absolute\",\n\t\t\t\t\"text-align\": \"center\",\n\t\t\t\t\"white-space\": \"nowrap\",\n\t\t\t\t\"background\": ic.get(\"background\")!.toCSS(0.5),\n\t\t\t\t\"z-index\": \"101\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-wrapper:before\", {\n\t\t\t\t\"content\": \"''\",\n\t\t\t\t\"display\": \"inline-block\",\n\t\t\t\t\"height\": \"100%\",\n\t\t\t\t\"vertical-align\": \"middle\",\n\t\t\t\t\"margin-right\": \"-0.25em\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-content\", {\n\t\t\t\t\"display\": \"inline-block\",\n\t\t\t\t\"padding\": \"1.2em\",\n\t\t\t\t\"vertical-align\": \"middle\",\n\t\t\t\t\"text-align\": \"left\",\n\t\t\t\t\"white-space\": \"normal\",\n\t\t\t\t\"background\": ic.get(\"background\")!.toCSS(),\n\t\t\t\t//\"border\": \"1px solid \" + ic.get(\"alternativeBackground\")!.toCSS(),\n\t\t\t\t\"border-radius\": \"4px\",\n\t\t\t\t\"-webkit-box-shadow\": \"0px 0px 36px 0px \" + shadow,\n\t\t\t\t\"box-shadow\": \"0px 0px 36px 0px \" + shadow,\n\t\t\t\t\"color\": text\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-content h1\", {\n\t\t\t\t\"font-size\": \"1em\",\n\t\t\t\t\"margin\": \"0 0 0.5em 0\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-table\", {\n\t\t\t\t\"display\": \"table\",\n\t\t\t\t\"margin\": \"1em 0\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-table-row\", {\n\t\t\t\t\"display\": \"table-row\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-table-heading\", {\n\t\t\t\t\"display\": \"table-heading\",\n\t\t\t\t\"padding\": \"3px 10px 3px 0\",\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-table-cell\", {\n\t\t\t\t\"display\": \"table-cell\",\n\t\t\t\t\"padding\": \"3px 0 3px 0\",\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-table-cell > *\", {\n\t\t\t\t\"vertical-align\": \"middle\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select\", {\n\t\t\t\t\"border\": \"1px solid \" + active,\n\t\t\t\t\"border-radius\": \"4px\",\n\t\t\t\t\"padding\": \"3px 5px\",\n\t\t\t\t\"margin\": \"2px\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-input-narrow\", {\n\t\t\t\t\"width\": \"50px\"\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-button\", {\n\t\t\t\t\"font-weight\": \"400\",\n\t\t\t\t\"color\": ic.get(\"secondaryButtonText\")!.toCSS(),\n\t\t\t\t\"line-height\": \"1.5\",\n\t\t\t\t\"text-align\": \"center\",\n\t\t\t\t\"text-decoration\": \"none\",\n\t\t\t\t\"vertical-align\": \"middle\",\n\t\t\t\t\"cursor\": \"pointer\",\n\t\t\t\t\"padding\": \"0.2em 0.8em\",\n\t\t\t\t\"font-size\": \"1em\",\n\t\t\t\t\"border-radius\": \"0.25em\",\n\t\t\t\t\"margin\": \"0 0.25em 0 0\",\n\t\t\t\t\"border\": \"1px solid \" + ic.get(\"secondaryButtonStroke\")!.toCSS(),\n\t\t\t\t\"background\": ic.get(\"secondaryButton\")!.toCSS()\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-button:hover\", {\n\t\t\t\t\"background\": ic.get(\"secondaryButtonHover\")!.toCSS()\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-button.am5-modal-primary\", {\n\t\t\t\t\"color\": ic.get(\"primaryButtonText\")!.toCSS(),\n\t\t\t\t\"border\": \"1px solid \" + ic.get(\"primaryButtonStroke\")!.toCSS(),\n\t\t\t\t\"background\": ic.get(\"primaryButton\")!.toCSS()\n\t\t\t}),\n\n\t\t\tnew StyleRule(element, \".am5-modal-button.am5-modal-primary:hover\", {\n\t\t\t\t\"background\": ic.get(\"primaryButtonHover\")!.toCSS()\n\t\t\t}),\n\n\t\t]);\n\n\t\trules = new CounterDisposer(() => {\n\t\t\trules = undefined;\n\t\t\tdisposer.dispose();\n\t\t});\n\t}\n\n\treturn rules.increment();\n}\n\n\nexport interface IModalSettings extends IEntitySettings {\n\n\t/**\n\t * HTML content of the modal.\n\t */\n\tcontent?: string;\n\n\t/**\n\t * When modal is open, all interactions for the underlying chart will be\n\t * disabled.\n\t *\n\t * @default true\n\t * @since 5.2.11\n\t */\n\tdeactivateRoot?: boolean;\n\n}\n\nexport interface IModalPrivate extends IEntityPrivate {\n\tcontainer: HTMLDivElement;\n\tcurtain: HTMLDivElement;\n\twrapper: HTMLDivElement;\n\tcontent: HTMLDivElement;\n}\n\nexport interface IModalEvents extends IEntityEvents {\n\t\"opened\": {}\n\t\"closed\": {}\n\t\"cancelled\": {}\n}\n\n/**\n * Used to display a modal dialog with HTML content.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/modal-popups/} for more info\n */\nexport class Modal extends Entity {\n\tpublic static className: string = \"Modal\";\n\tpublic static classNames: Array<string> = Entity.classNames.concat([Modal.className]);\n\n\tdeclare public _settings: IModalSettings;\n\tdeclare public _privateSettings: IModalPrivate;\n\tdeclare public _events: IModalEvents;\n\n\t//protected _currentPass: number = 0;\n\n\tprotected _afterNew() {\n\t\t// Applying themes because this will not have parents\n\t\tsuper._afterNewApplyThemes();\n\n\t\t// Defaults\n\t\tthis._setRawDefault(\"deactivateRoot\", true);\n\n\t\t// Load CSS\n\t\tmodalCSS($utils.getShadowRoot(this._root.dom), this._root);\n\n\t\t// Create elements\n\t\tconst container = document.createElement(\"div\");\n\t\tcontainer.className = \"am5-modal\";\n\t\tcontainer.style.display = \"none\";\n\t\tthis.root._inner.appendChild(container);\n\t\tthis.setPrivate(\"container\", container);\n\n\t\tconst curtain = document.createElement(\"div\");\n\t\tcurtain.className = \"am5-modal-curtain\";\n\t\tcontainer.appendChild(curtain);\n\t\tthis.setPrivate(\"curtain\", curtain);\n\n\t\t$utils.addEventListener(curtain, \"click\", () => {\n\t\t\tthis.cancel();\n\t\t});\n\n\t\tconst wrapper = document.createElement(\"div\");\n\t\twrapper.className = \"am5-modal-wrapper\";\n\t\tcontainer.appendChild(wrapper);\n\t\tthis.setPrivate(\"wrapper\", wrapper);\n\n\t\tconst content = document.createElement(\"div\");\n\t\tcontent.className = \"am5-modal-content\";\n\t\twrapper.appendChild(content);\n\t\tthis.setPrivate(\"content\", content);\n\n\t\tconst html = this.get(\"content\");\n\t\tif (html) {\n\t\t\tcontent.innerHTML = html;\n\t\t}\n\n\t\t// Close on ESC\n\t\tif ($utils.supports(\"keyboardevents\")) {\n\t\t\tthis._disposers.push($utils.addEventListener(document, \"keydown\", (ev: KeyboardEvent) => {\n\t\t\t\tif (this.isOpen() && ev.keyCode == 27) {\n\t\t\t\t\tthis.cancel();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"content\")) {\n\t\t\tthis.getPrivate(\"content\").innerHTML = this.get(\"content\", \"\");\n\t\t}\n\t}\n\n\t/**\n\t * Returns `true` if modal is currently open.\n\t * \n\t * @return  Modal open?\n\t */\n\tpublic isOpen(): boolean {\n\t\treturn this.getPrivate(\"container\").style.display != \"none\";\n\t}\n\n\t/**\n\t * Opens modal.\n\t */\n\tpublic open(): void {\n\t\tthis.getPrivate(\"container\").style.display = \"block\";\n\t\tif (this.get(\"deactivateRoot\")) {\n\t\t\tthis.setTimeout(() => {\n\t\t\t\tthis._root._renderer.interactionsEnabled = false;\n\t\t\t}, 10);\n\t\t}\n\t\tthis.events.dispatch(\"opened\", {\n\t\t\ttype: \"opened\",\n\t\t\ttarget: this\n\t\t});\n\t}\n\n\t/**\n\t * Closes modal.\n\t */\n\tpublic close(): void {\n\t\tthis.getPrivate(\"container\").style.display = \"none\";\n\t\tif (this.get(\"deactivateRoot\")) {\n\t\t\tthis._root._renderer.interactionsEnabled = true;\n\t\t}\n\t\tthis.events.dispatch(\"closed\", {\n\t\t\ttype: \"closed\",\n\t\t\ttarget: this\n\t\t});\n\t}\n\n\t/**\n\t * Closes modal and invokes `cancelled` event.\n\t */\n\tpublic cancel(): void {\n\t\tthis.getPrivate(\"container\").style.display = \"none\";\n\t\tif (this.get(\"deactivateRoot\")) {\n\t\t\tthis._root._renderer.interactionsEnabled = true;\n\t\t}\n\t\tthis.events.dispatch(\"cancelled\", {\n\t\t\ttype: \"cancelled\",\n\t\t\ttarget: this\n\t\t});\n\t}\n\n\t/**\n\t * Disposes modal.\n\t */\n\tpublic dispose() {\n\t\tsuper.dispose();\n\t\tthis.root.dom.removeChild(this.getPrivate(\"container\"));\n\t}\n\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}