{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\nimport { Container } from \"./Container\";\nimport { Graphics } from \"./Graphics\";\nimport { Button } from \"./Button\";\nimport * as $type from \"../util/Type\";\nimport * as $utils from \"../util/Utils\";\n/**\r\n * A control that allows zooming chart's axes, or other uses requiring range\r\n * selection.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/} for more info\r\n */\nvar Scrollbar = /** @class */function (_super) {\n  __extends(Scrollbar, _super);\n  function Scrollbar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\r\n     * A thumb elment - a draggable square between the grips, used for panning\r\n     * the selection.\r\n     */\n    Object.defineProperty(_this, \"thumb\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this._makeThumb()\n    });\n    /**\r\n     * Start grip button.\r\n     */\n    Object.defineProperty(_this, \"startGrip\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this._makeButton()\n    });\n    /**\r\n     * End grip button.\r\n     */\n    Object.defineProperty(_this, \"endGrip\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this._makeButton()\n    });\n    Object.defineProperty(_this, \"_thumbBusy\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(_this, \"_startDown\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(_this, \"_endDown\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(_this, \"_thumbDown\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(_this, \"_gripDown\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    return _this;\n  }\n  Object.defineProperty(Scrollbar.prototype, \"_addOrientationClass\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", this._settings.orientation]);\n      if (!this._settings.background) {\n        this._settings.background = RoundedRectangle.new(this._root, {\n          themeTags: $utils.mergeTags(this._settings.themeTags, [\"main\", \"background\"])\n        });\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_makeButton\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      return this.children.push(Button.new(this._root, {\n        themeTags: [\"resize\", \"button\", this.get(\"orientation\")],\n        icon: Graphics.new(this._root, {\n          themeTags: [\"icon\"]\n        })\n      }));\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_makeThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      return this.children.push(RoundedRectangle.new(this._root, {\n        themeTags: [\"thumb\", this.get(\"orientation\")]\n      }));\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_handleAnimation\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (animation) {\n      var _this = this;\n      if (animation) {\n        this._disposers.push(animation.events.on(\"stopped\", function () {\n          _this.setPrivateRaw(\"isBusy\", false);\n          _this._thumbBusy = false;\n        }));\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _this = this;\n      this._addOrientationClass();\n      _super.prototype._afterNew.call(this);\n      var startGrip = this.startGrip;\n      var endGrip = this.endGrip;\n      var thumb = this.thumb;\n      var background = this.get(\"background\");\n      if (background) {\n        this._disposers.push(background.events.on(\"click\", function (event) {\n          _this.setPrivateRaw(\"isBusy\", true);\n          var point = _this._display.toLocal(event.point);\n          var w = _this.width();\n          var h = _this.height();\n          var orientation = _this.get(\"orientation\");\n          var newMiddle;\n          if (orientation == \"vertical\") {\n            newMiddle = (point.y - thumb.height() / 2) / h;\n          } else {\n            newMiddle = (point.x - thumb.width() / 2) / w;\n          }\n          var newCoordinate;\n          var key;\n          if (orientation == \"vertical\") {\n            newCoordinate = newMiddle * h;\n            key = \"y\";\n          } else {\n            newCoordinate = newMiddle * w;\n            key = \"x\";\n          }\n          var duration = _this.get(\"animationDuration\", 0);\n          if (duration > 0) {\n            _this._thumbBusy = true;\n            _this._handleAnimation(_this.thumb.animate({\n              key: key,\n              to: newCoordinate,\n              duration: duration,\n              easing: _this.get(\"animationEasing\")\n            }));\n          } else {\n            _this.thumb.set(key, newCoordinate);\n            _this._root.events.once(\"frameended\", function () {\n              _this.setPrivateRaw(\"isBusy\", false);\n            });\n          }\n        }));\n      }\n      this._disposers.push(thumb.events.on(\"dblclick\", function (event) {\n        if (!$utils.isLocalEvent(event.originalEvent, _this)) {\n          return;\n        }\n        var duration = _this.get(\"animationDuration\", 0);\n        var easing = _this.get(\"animationEasing\");\n        _this.animate({\n          key: \"start\",\n          to: 0,\n          duration: duration,\n          easing: easing\n        });\n        _this.animate({\n          key: \"end\",\n          to: 1,\n          duration: duration,\n          easing: easing\n        });\n      }));\n      this._disposers.push(startGrip.events.on(\"pointerdown\", function () {\n        _this.setPrivateRaw(\"isBusy\", true);\n        _this._startDown = true;\n        _this._gripDown = \"start\";\n      }));\n      this._disposers.push(endGrip.events.on(\"pointerdown\", function () {\n        _this.setPrivateRaw(\"isBusy\", true);\n        _this._endDown = true;\n        _this._gripDown = \"end\";\n      }));\n      this._disposers.push(thumb.events.on(\"pointerdown\", function () {\n        _this.setPrivateRaw(\"isBusy\", true);\n        _this._thumbDown = true;\n        _this._gripDown = undefined;\n      }));\n      this._disposers.push(startGrip.events.on(\"globalpointerup\", function () {\n        if (_this._startDown) {\n          _this.setPrivateRaw(\"isBusy\", false);\n        }\n        _this._startDown = false;\n      }));\n      this._disposers.push(endGrip.events.on(\"globalpointerup\", function () {\n        if (_this._endDown) {\n          _this.setPrivateRaw(\"isBusy\", false);\n        }\n        _this._endDown = false;\n      }));\n      this._disposers.push(thumb.events.on(\"globalpointerup\", function () {\n        if (_this._thumbDown) {\n          _this.setPrivateRaw(\"isBusy\", false);\n        }\n        _this._thumbDown = false;\n      }));\n      this._disposers.push(startGrip.on(\"x\", function () {\n        _this._updateThumb();\n      }));\n      this._disposers.push(endGrip.on(\"x\", function () {\n        _this._updateThumb();\n      }));\n      this._disposers.push(startGrip.on(\"y\", function () {\n        _this._updateThumb();\n      }));\n      this._disposers.push(endGrip.on(\"y\", function () {\n        _this._updateThumb();\n      }));\n      this._disposers.push(thumb.events.on(\"positionchanged\", function () {\n        _this._updateGripsByThumb();\n      }));\n      if (this.get(\"orientation\") == \"vertical\") {\n        startGrip.set(\"x\", 0);\n        endGrip.set(\"x\", 0);\n        this._disposers.push(thumb.adapters.add(\"y\", function (value) {\n          return Math.max(Math.min(Number(value), _this.height() - thumb.height()), 0);\n        }));\n        this._disposers.push(thumb.adapters.add(\"x\", function (_value) {\n          return _this.width() / 2;\n        }));\n        this._disposers.push(startGrip.adapters.add(\"x\", function (_value) {\n          return _this.width() / 2;\n        }));\n        this._disposers.push(endGrip.adapters.add(\"x\", function (_value) {\n          return _this.width() / 2;\n        }));\n        this._disposers.push(startGrip.adapters.add(\"y\", function (value) {\n          return Math.max(Math.min(Number(value), _this.height()), 0);\n        }));\n        this._disposers.push(endGrip.adapters.add(\"y\", function (value) {\n          return Math.max(Math.min(Number(value), _this.height()), 0);\n        }));\n      } else {\n        startGrip.set(\"y\", 0);\n        endGrip.set(\"y\", 0);\n        this._disposers.push(thumb.adapters.add(\"x\", function (value) {\n          return Math.max(Math.min(Number(value), _this.width() - thumb.width()), 0);\n        }));\n        this._disposers.push(thumb.adapters.add(\"y\", function (_value) {\n          return _this.height() / 2;\n        }));\n        this._disposers.push(startGrip.adapters.add(\"y\", function (_value) {\n          return _this.height() / 2;\n        }));\n        this._disposers.push(endGrip.adapters.add(\"y\", function (_value) {\n          return _this.height() / 2;\n        }));\n        this._disposers.push(startGrip.adapters.add(\"x\", function (value) {\n          return Math.max(Math.min(Number(value), _this.width()), 0);\n        }));\n        this._disposers.push(endGrip.adapters.add(\"x\", function (value) {\n          return Math.max(Math.min(Number(value), _this.width()), 0);\n        }));\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_updateChildren\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype._updateChildren.call(this);\n      if (this.isDirty(\"end\") || this.isDirty(\"start\") || this._sizeDirty) {\n        this.updateGrips();\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_changed\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype._changed.call(this);\n      if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\n        var eventType = \"rangechanged\";\n        if (this.events.isEnabled(eventType)) {\n          this.events.dispatch(eventType, {\n            type: eventType,\n            target: this,\n            start: this.get(\"start\", 0),\n            end: this.get(\"end\", 1),\n            grip: this._gripDown\n          });\n        }\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(Scrollbar.prototype, \"updateGrips\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var startGrip = this.startGrip;\n      var endGrip = this.endGrip;\n      var orientation = this.get(\"orientation\");\n      var height = this.height();\n      var width = this.width();\n      if (orientation == \"vertical\") {\n        startGrip.set(\"y\", height * this.get(\"start\", 0));\n        endGrip.set(\"y\", height * this.get(\"end\", 1));\n      } else {\n        startGrip.set(\"x\", width * this.get(\"start\", 0));\n        endGrip.set(\"x\", width * this.get(\"end\", 1));\n      }\n      var valueFunction = this.getPrivate(\"positionTextFunction\");\n      var from = Math.round(this.get(\"start\", 0) * 100);\n      var to = Math.round(this.get(\"end\", 0) * 100);\n      var fromValue;\n      var toValue;\n      if (valueFunction) {\n        fromValue = valueFunction.call(this, this.get(\"start\", 0));\n        toValue = valueFunction.call(this, this.get(\"end\", 0));\n      } else {\n        fromValue = from + \"%\";\n        toValue = to + \"%\";\n      }\n      startGrip.set(\"ariaLabel\", this._t(\"From %1\", undefined, fromValue));\n      startGrip.set(\"ariaValueNow\", \"\" + from);\n      startGrip.set(\"ariaValueText\", from + \"%\");\n      startGrip.set(\"ariaValueMin\", \"0\");\n      startGrip.set(\"ariaValueMax\", \"100\");\n      endGrip.set(\"ariaLabel\", this._t(\"To %1\", undefined, toValue));\n      endGrip.set(\"ariaValueNow\", \"\" + to);\n      endGrip.set(\"ariaValueText\", to + \"%\");\n      endGrip.set(\"ariaValueMin\", \"0\");\n      endGrip.set(\"ariaValueMax\", \"100\");\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_updateThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var thumb = this.thumb;\n      var startGrip = this.startGrip;\n      var endGrip = this.endGrip;\n      var height = this.height();\n      var width = this.width();\n      var x0 = startGrip.x();\n      var x1 = endGrip.x();\n      var y0 = startGrip.y();\n      var y1 = endGrip.y();\n      var start = 0;\n      var end = 1;\n      if (this.get(\"orientation\") == \"vertical\") {\n        if ($type.isNumber(y0) && $type.isNumber(y1)) {\n          if (!this._thumbBusy && !thumb.isDragging()) {\n            thumb.set(\"height\", y1 - y0);\n            thumb.set(\"y\", y0);\n          }\n          start = y0 / height;\n          end = y1 / height;\n        }\n      } else {\n        if ($type.isNumber(x0) && $type.isNumber(x1)) {\n          if (!this._thumbBusy && !thumb.isDragging()) {\n            thumb.set(\"width\", x1 - x0);\n            thumb.set(\"x\", x0);\n          }\n          start = x0 / width;\n          end = x1 / width;\n        }\n      }\n      if (this.getPrivate(\"isBusy\") && (this.get(\"start\") != start || this.get(\"end\") != end)) {\n        this.set(\"start\", start);\n        this.set(\"end\", end);\n      }\n      var valueFunction = this.getPrivate(\"positionTextFunction\");\n      var from = Math.round(this.get(\"start\", 0) * 100);\n      var to = Math.round(this.get(\"end\", 0) * 100);\n      var fromValue;\n      var toValue;\n      if (valueFunction) {\n        fromValue = valueFunction.call(this, this.get(\"start\", 0));\n        toValue = valueFunction.call(this, this.get(\"end\", 0));\n      } else {\n        fromValue = from + \"%\";\n        toValue = to + \"%\";\n      }\n      thumb.set(\"ariaLabel\", this._t(\"From %1 to %2\", undefined, fromValue, toValue));\n      thumb.set(\"ariaValueNow\", \"\" + from);\n      thumb.set(\"ariaValueText\", from + \"%\");\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_updateGripsByThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var thumb = this.thumb;\n      var startGrip = this.startGrip;\n      var endGrip = this.endGrip;\n      if (this.get(\"orientation\") == \"vertical\") {\n        var thumbSize = thumb.height();\n        startGrip.set(\"y\", thumb.y());\n        endGrip.set(\"y\", thumb.y() + thumbSize);\n      } else {\n        var thumbSize = thumb.width();\n        startGrip.set(\"x\", thumb.x());\n        endGrip.set(\"x\", thumb.x() + thumbSize);\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"Scrollbar\"\n  });\n  Object.defineProperty(Scrollbar, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: Container.classNames.concat([Scrollbar.className])\n  });\n  return Scrollbar;\n}(Container);\nexport { Scrollbar };","map":{"version":3,"mappings":"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","names":["RoundedRectangle","Container","Graphics","Button","$type","$utils","__extends","Object","_this","_makeThumb","_makeButton","_settings","themeTags","mergeTags","orientation","background","new","_root","children","push","get","icon","animation","_disposers","events","on","setPrivateRaw","_thumbBusy","_addOrientationClass","_super","_afterNew","startGrip","endGrip","thumb","event","point","_display","toLocal","w","width","h","height","newMiddle","y","x","newCoordinate","key","duration","_handleAnimation","animate","to","easing","set","once","isLocalEvent","originalEvent","_startDown","_gripDown","_endDown","_thumbDown","undefined","_updateThumb","_updateGripsByThumb","adapters","add","value","Math","max","min","Number","_value","_updateChildren","isDirty","_sizeDirty","updateGrips","_changed","eventType","isEnabled","dispatch","type","target","start","end","grip","valueFunction","getPrivate","from","round","fromValue","toValue","call","_t","x0","x1","y0","y1","isNumber","isDragging","thumbSize","classNames","concat","Scrollbar","className"],"sources":["C:\\Users\\Lucian\\Documents\\DEV\\nodejs\\stock-market-api\\dev\\static\\node_modules\\src\\.internal\\core\\render\\Scrollbar.ts"],"sourcesContent":["import type { Animation } from \"../util/Entity\";\nimport type { Time } from \"../util/Animation\";\n\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\nimport { Container, IContainerPrivate, IContainerSettings, IContainerEvents } from \"./Container\";\nimport { Graphics } from \"./Graphics\";\nimport { Button } from \"./Button\";\n\nimport * as $type from \"../util/Type\";\nimport * as $utils from \"../util/Utils\";\n\nexport interface IScrollbarSettings extends IContainerSettings {\n\n\t/**\n\t * Orientation of the scrollbar.\n\t */\n\torientation: \"horizontal\" | \"vertical\";\n\n\t/**\n\t * Relative start of the selected range, with 0 meaning beginning, and 1 the\n\t * end.\n\t */\n\tstart?: number;\n\n\t/**\n\t * Relative end of the selected range, with 0 meaning beginning, and 1 the\n\t * end.\n\t */\n\tend?: number;\n\n\t/**\n\t * Number of milliseconds to play scroll animations for.\n\t */\n\tanimationDuration?: number;\n\n\t/**\n\t * Easing function to use for animations.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Easing_functions} for more info\n\t */\n\tanimationEasing?: (t: Time) => Time;\n\n}\n\nexport interface IScrollbarPrivate extends IContainerPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tisBusy?: boolean;\n\n\t/**\n\t * @ignore\n\t */\n\tpositionTextFunction?: (position: number) => string;\n\n}\n\nexport interface IScrollbarEvents extends IContainerEvents {\n\n\t/**\n\t * Invoked when range of the selection changes.\n\t */\n\trangechanged: { start: number, end: number, grip?: \"start\" | \"end\" };\n\n}\n\n/**\n * A control that allows zooming chart's axes, or other uses requiring range\n * selection.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/} for more info\n */\nexport class Scrollbar extends Container {\n\n\tpublic _addOrientationClass() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", this._settings.orientation]);\n\t\tif (!this._settings.background) {\n\t\t\tthis._settings.background = RoundedRectangle.new(this._root, {\n\t\t\t\tthemeTags: $utils.mergeTags(this._settings.themeTags, [\"main\", \"background\"])\n\t\t\t});\n\t\t}\n\t}\n\n\tdeclare public _settings: IScrollbarSettings;\n\tdeclare public _privateSettings: IScrollbarPrivate;\n\tdeclare public _events: IScrollbarEvents;\n\n\tpublic static className: string = \"Scrollbar\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Scrollbar.className]);\n\n\t/**\n\t * A thumb elment - a draggable square between the grips, used for panning\n\t * the selection.\n\t */\n\tpublic thumb: RoundedRectangle = this._makeThumb();\n\n\t/**\n\t * Start grip button.\n\t */\n\tpublic startGrip: Button = this._makeButton();\n\n\t/**\n\t * End grip button.\n\t */\n\tpublic endGrip: Button = this._makeButton();\n\n\tprotected _thumbBusy: boolean = false;\n\n\tprotected _startDown: boolean = false;\n\n\tprotected _endDown: boolean = false;\n\n\tprotected _thumbDown: boolean = false;\n\n\tprotected _gripDown?: \"start\" | \"end\";\n\n\tprotected _makeButton(): Button {\n\t\treturn this.children.push(Button.new(this._root, {\n\t\t\tthemeTags: [\"resize\", \"button\", this.get(\"orientation\")], icon: Graphics.new(this._root, {\n\t\t\t\tthemeTags: [\"icon\"]\n\t\t\t})\n\t\t}));\n\t}\n\n\tprotected _makeThumb(): RoundedRectangle {\n\t\treturn this.children.push(RoundedRectangle.new(this._root, {\n\t\t\tthemeTags: [\"thumb\", this.get(\"orientation\")]\n\t\t}));\n\t}\n\n\tprotected _handleAnimation(animation: Animation<any>) {\n\t\tif (animation) {\n\t\t\tthis._disposers.push(\n\t\t\t\tanimation.events.on(\"stopped\", () => {\n\t\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t\t\tthis._thumbBusy = false;\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\tprotected _afterNew() {\n\t\tthis._addOrientationClass();\n\t\tsuper._afterNew();\n\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\t\tconst thumb = this.thumb;\n\t\tconst background = this.get(\"background\");\n\n\t\tif (background) {\n\t\t\tthis._disposers.push(\n\t\t\t\tbackground.events.on(\"click\", (event) => {\n\t\t\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\t\t\tconst point = this._display.toLocal(event.point);\n\n\t\t\t\t\tconst w = this.width();\n\t\t\t\t\tconst h = this.height();\n\n\t\t\t\t\tconst orientation = this.get(\"orientation\");\n\n\t\t\t\t\tlet newMiddle: number;\n\n\t\t\t\t\tif (orientation == \"vertical\") {\n\t\t\t\t\t\tnewMiddle = (point.y - thumb.height() / 2) / h;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewMiddle = (point.x - thumb.width() / 2) / w;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newCoordinate: number;\n\t\t\t\t\tlet key: \"x\" | \"y\";\n\n\t\t\t\t\tif (orientation == \"vertical\") {\n\t\t\t\t\t\tnewCoordinate = newMiddle * h;\n\t\t\t\t\t\tkey = \"y\";\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewCoordinate = newMiddle * w;\n\t\t\t\t\t\tkey = \"x\";\n\t\t\t\t\t}\n\n\n\t\t\t\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\t\t\t\tif (duration > 0) {\n\t\t\t\t\t\tthis._thumbBusy = true;\n\t\t\t\t\t\tthis._handleAnimation(this.thumb.animate({ key: key, to: newCoordinate, duration: duration, easing: this.get(\"animationEasing\") }));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.thumb.set(key, newCoordinate);\n\t\t\t\t\t\tthis._root.events.once(\"frameended\", () => {\n\t\t\t\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\n\t\tthis._disposers.push(thumb.events.on(\"dblclick\", (event) => {\n\n\t\t\tif (!$utils.isLocalEvent(event.originalEvent, this)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\t\tconst easing = this.get(\"animationEasing\");\n\n\t\t\tthis.animate({ key: \"start\", to: 0, duration: duration, easing: easing });\n\t\t\tthis.animate({ key: \"end\", to: 1, duration: duration, easing: easing });\n\t\t}));\n\n\t\tthis._disposers.push(startGrip.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._startDown = true;\n\t\t\tthis._gripDown = \"start\";\n\t\t}))\n\n\t\tthis._disposers.push(endGrip.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._endDown = true;\n\t\t\tthis._gripDown = \"end\";\n\t\t}))\n\n\t\tthis._disposers.push(thumb.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._thumbDown = true;\n\t\t\tthis._gripDown = undefined;\n\t\t}))\n\n\t\tthis._disposers.push(startGrip.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._startDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._startDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(endGrip.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._endDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._endDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(thumb.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._thumbDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._thumbDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(startGrip.on(\"x\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(endGrip.on(\"x\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(startGrip.on(\"y\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(endGrip.on(\"y\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(thumb.events.on(\"positionchanged\", () => {\n\t\t\tthis._updateGripsByThumb();\n\t\t}));\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tstartGrip.set(\"x\", 0);\n\t\t\tendGrip.set(\"x\", 0);\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height() - thumb.height()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height()), 0);\n\t\t\t}))\n\t\t}\n\t\telse {\n\t\t\tstartGrip.set(\"y\", 0);\n\t\t\tendGrip.set(\"y\", 0);\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width() - thumb.width()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width()), 0);\n\t\t\t}))\n\t\t}\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\tif (this.isDirty(\"end\") || this.isDirty(\"start\") || this._sizeDirty) {\n\t\t\tthis.updateGrips();\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\t\tif (this.isDirty(\"start\") || this.isDirty(\"end\")) {\n\t\t\tconst eventType = \"rangechanged\";\n\t\t\tif (this.events.isEnabled(eventType)) {\n\t\t\t\tthis.events.dispatch(eventType, { type: eventType, target: this, start: this.get(\"start\", 0), end: this.get(\"end\", 1), grip: this._gripDown });\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateGrips() {\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tconst orientation = this.get(\"orientation\");\n\t\tconst height = this.height();\n\t\tconst width = this.width();\n\n\t\tif (orientation == \"vertical\") {\n\t\t\tstartGrip.set(\"y\", height * this.get(\"start\", 0));\n\t\t\tendGrip.set(\"y\", height * this.get(\"end\", 1));\n\t\t}\n\t\telse {\n\t\t\tstartGrip.set(\"x\", width * this.get(\"start\", 0));\n\t\t\tendGrip.set(\"x\", width * this.get(\"end\", 1));\n\t\t}\n\n\t\tconst valueFunction = this.getPrivate(\"positionTextFunction\");\n\t\tconst from = Math.round(this.get(\"start\", 0) * 100);\n\t\tconst to = Math.round(this.get(\"end\", 0) * 100);\n\t\tlet fromValue: string;\n\t\tlet toValue: string;\n\t\tif (valueFunction) {\n\t\t\tfromValue = valueFunction.call(this, this.get(\"start\", 0));\n\t\t\ttoValue = valueFunction.call(this, this.get(\"end\", 0));\n\t\t}\n\t\telse {\n\t\t\tfromValue = from + \"%\";\n\t\t\ttoValue = to + \"%\";\n\t\t}\n\n\t\tstartGrip.set(\"ariaLabel\", this._t(\"From %1\", undefined, fromValue));\n\t\tstartGrip.set(\"ariaValueNow\", \"\" + from);\n\t\tstartGrip.set(\"ariaValueText\", from + \"%\");\n\n\t\tstartGrip.set(\"ariaValueMin\", \"0\");\n\t\tstartGrip.set(\"ariaValueMax\", \"100\");\n\n\t\tendGrip.set(\"ariaLabel\", this._t(\"To %1\", undefined, toValue));\n\t\tendGrip.set(\"ariaValueNow\", \"\" + to);\n\t\tendGrip.set(\"ariaValueText\", to + \"%\");\n\n\t\tendGrip.set(\"ariaValueMin\", \"0\");\n\t\tendGrip.set(\"ariaValueMax\", \"100\");\n\t}\n\n\tprotected _updateThumb() {\n\t\tconst thumb = this.thumb;\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tconst height = this.height();\n\t\tconst width = this.width();\n\n\t\tlet x0 = startGrip.x();\n\t\tlet x1 = endGrip.x();\n\n\t\tlet y0 = startGrip.y();\n\t\tlet y1 = endGrip.y();\n\n\t\tlet start: number = 0;\n\t\tlet end: number = 1;\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tif ($type.isNumber(y0) && $type.isNumber(y1)) {\n\t\t\t\tif (!this._thumbBusy && !thumb.isDragging()) {\n\t\t\t\t\tthumb.set(\"height\", y1 - y0);\n\t\t\t\t\tthumb.set(\"y\", y0);\n\t\t\t\t}\n\t\t\t\tstart = y0 / height;\n\t\t\t\tend = y1 / height;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ($type.isNumber(x0) && $type.isNumber(x1)) {\n\t\t\t\tif (!this._thumbBusy && !thumb.isDragging()) {\n\t\t\t\t\tthumb.set(\"width\", x1 - x0);\n\t\t\t\t\tthumb.set(\"x\", x0);\n\t\t\t\t}\n\t\t\t\tstart = x0 / width;\n\t\t\t\tend = x1 / width;\n\t\t\t}\n\t\t}\n\n\t\tif (this.getPrivate(\"isBusy\") && (this.get(\"start\") != start || this.get(\"end\") != end)) {\n\t\t\tthis.set(\"start\", start);\n\t\t\tthis.set(\"end\", end);\n\t\t}\n\n\t\tconst valueFunction = this.getPrivate(\"positionTextFunction\");\n\t\tconst from = Math.round(this.get(\"start\", 0) * 100);\n\t\tconst to = Math.round(this.get(\"end\", 0) * 100);\n\t\tlet fromValue: string;\n\t\tlet toValue: string;\n\t\tif (valueFunction) {\n\t\t\tfromValue = valueFunction.call(this, this.get(\"start\", 0));\n\t\t\ttoValue = valueFunction.call(this, this.get(\"end\", 0));\n\t\t}\n\t\telse {\n\t\t\tfromValue = from + \"%\";\n\t\t\ttoValue = to + \"%\";\n\t\t}\n\n\t\tthumb.set(\"ariaLabel\", this._t(\"From %1 to %2\", undefined, fromValue, toValue));\n\t\tthumb.set(\"ariaValueNow\", \"\" + from);\n\t\tthumb.set(\"ariaValueText\", from + \"%\");\n\t}\n\n\n\tprotected _updateGripsByThumb() {\n\n\t\tconst thumb = this.thumb;\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tconst thumbSize = thumb.height();\n\t\t\tstartGrip.set(\"y\", thumb.y());\n\t\t\tendGrip.set(\"y\", thumb.y() + thumbSize);\n\t\t}\n\t\telse {\n\t\t\tconst thumbSize = thumb.width();\n\t\t\tstartGrip.set(\"x\", thumb.x());\n\t\t\tendGrip.set(\"x\", thumb.x() + thumbSize);\n\t\t}\n\t}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}