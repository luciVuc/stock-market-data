{"ast":null,"code":"var _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n// import { mean } from \"d3-array\";\n\nimport { path as d3Path } from \"d3-path\";\nimport { interpolateNumber } from \"d3-interpolate\";\nimport { last, noop } from \"./utils\";\nvar ZoomButtons = function (_Component) {\n  _inherits(ZoomButtons, _Component);\n  function ZoomButtons(props) {\n    _classCallCheck(this, ZoomButtons);\n    var _this = _possibleConstructorReturn(this, (ZoomButtons.__proto__ || Object.getPrototypeOf(ZoomButtons)).call(this, props));\n    _this.handleZoomOut = _this.handleZoomOut.bind(_this);\n    _this.handleZoomIn = _this.handleZoomIn.bind(_this);\n    _this.zoom = _this.zoom.bind(_this);\n    return _this;\n  }\n  _createClass(ZoomButtons, [{\n    key: \"zoom\",\n    value: function zoom(direction) {\n      var _this2 = this;\n      var _context = this.context,\n        xAxisZoom = _context.xAxisZoom,\n        xScale = _context.xScale,\n        plotData = _context.plotData,\n        xAccessor = _context.xAccessor;\n      var cx = xScale(xAccessor(last(plotData)));\n      // mean(xScale.range());\n      var zoomMultiplier = this.props.zoomMultiplier;\n      var c = direction > 0 ? 1 * zoomMultiplier : 1 / zoomMultiplier;\n      var _xScale$domain = xScale.domain(),\n        _xScale$domain2 = _slicedToArray(_xScale$domain, 2),\n        start = _xScale$domain2[0],\n        end = _xScale$domain2[1];\n      var _xScale$range$map$map = xScale.range().map(function (x) {\n          return cx + (x - cx) * c;\n        }).map(xScale.invert),\n        _xScale$range$map$map2 = _slicedToArray(_xScale$range$map$map, 2),\n        newStart = _xScale$range$map$map2[0],\n        newEnd = _xScale$range$map$map2[1];\n      var left = interpolateNumber(start, newStart);\n      var right = interpolateNumber(end, newEnd);\n      var foo = [0.25, 0.3, 0.5, 0.6, 0.75, 1].map(function (i) {\n        return [left(i), right(i)];\n      });\n      this.interval = setInterval(function () {\n        xAxisZoom(foo.shift());\n        if (foo.length === 0) {\n          clearInterval(_this2.interval);\n          delete _this2.interval;\n        }\n      }, 10);\n    }\n  }, {\n    key: \"handleZoomOut\",\n    value: function handleZoomOut() {\n      if (this.interval) return;\n      this.zoom(1);\n    }\n  }, {\n    key: \"handleZoomIn\",\n    value: function handleZoomIn() {\n      if (this.interval) return;\n      this.zoom(-1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var chartConfig = this.context.chartConfig;\n      var width = chartConfig.width,\n        height = chartConfig.height;\n      var _props = this.props,\n        size = _props.size,\n        heightFromBase = _props.heightFromBase,\n        rx = _props.rx,\n        ry = _props.ry;\n      var _props2 = this.props,\n        stroke = _props2.stroke,\n        strokeOpacity = _props2.strokeOpacity,\n        fill = _props2.fill,\n        strokeWidth = _props2.strokeWidth,\n        fillOpacity = _props2.fillOpacity;\n      var _props3 = this.props,\n        textFill = _props3.textFill,\n        textStrokeWidth = _props3.textStrokeWidth;\n      var onReset = this.props.onReset;\n      var centerX = Math.round(width / 2);\n      var y = height - heightFromBase;\n      var _size = _slicedToArray(size, 2),\n        w = _size[0],\n        h = _size[1];\n      var hLength = 5;\n      var wLength = 6;\n      var textY = Math.round(y + h / 2);\n      var resetX = centerX;\n      var zoomOut = d3Path();\n      var zoomOutX = centerX - w - 2 * strokeWidth;\n      zoomOut.moveTo(zoomOutX - wLength, textY);\n      zoomOut.lineTo(zoomOutX + wLength, textY);\n      zoomOut.closePath();\n      var zoomIn = d3Path();\n      var zoomInX = centerX + w + 2 * strokeWidth;\n      zoomIn.moveTo(zoomInX - wLength, textY);\n      zoomIn.lineTo(zoomInX + wLength, textY);\n      zoomIn.moveTo(zoomInX, textY - hLength);\n      zoomIn.lineTo(zoomInX, textY + hLength);\n      // zoomIn.closePath();\n\n      return React.createElement(\"g\", {\n        className: \"react-stockcharts-zoom-button\"\n      }, React.createElement(\"rect\", {\n        x: zoomOutX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"path\", {\n        d: zoomOut.toString(),\n        stroke: textFill,\n        strokeWidth: textStrokeWidth\n      }), React.createElement(\"rect\", {\n        x: resetX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"g\", {\n        transform: \"translate (\" + resetX + \", \" + (y + h / 4) + \") scale(.14)\"\n      }, React.createElement(\"path\", {\n        d: \"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z\",\n        fill: textFill\n      })), React.createElement(\"rect\", {\n        x: zoomInX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"path\", {\n        d: zoomIn.toString(),\n        stroke: textFill,\n        strokeWidth: textStrokeWidth\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction out\",\n        onClick: this.handleZoomOut,\n        x: zoomOutX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction reset\",\n        onClick: onReset,\n        x: resetX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction in\",\n        onClick: this.handleZoomIn,\n        x: zoomInX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }));\n    }\n  }]);\n  return ZoomButtons;\n}(Component);\nZoomButtons.propTypes = {\n  zoomMultiplier: PropTypes.number.isRequired,\n  size: PropTypes.array.isRequired,\n  heightFromBase: PropTypes.number.isRequired,\n  rx: PropTypes.number.isRequired,\n  ry: PropTypes.number.isRequired,\n  stroke: PropTypes.string.isRequired,\n  strokeWidth: PropTypes.number.isRequired,\n  strokeOpacity: PropTypes.number.isRequired,\n  fill: PropTypes.string.isRequired,\n  fillOpacity: PropTypes.number.isRequired,\n  fontSize: PropTypes.number.isRequired,\n  textDy: PropTypes.string.isRequired,\n  textFill: PropTypes.string.isRequired,\n  textStrokeWidth: PropTypes.number.isRequired,\n  onReset: PropTypes.func\n};\nZoomButtons.defaultProps = {\n  size: [30, 24],\n  heightFromBase: 50,\n  rx: 3,\n  ry: 3,\n  stroke: \"#000000\",\n  strokeOpacity: 0.3,\n  strokeWidth: 1,\n  fill: \"#D6D6D6\",\n  fillOpacity: 0.4,\n  fontSize: 16,\n  textDy: \".3em\",\n  textFill: \"#000000\",\n  textStrokeWidth: 2,\n  zoomMultiplier: 1.5,\n  onReset: noop\n};\nZoomButtons.contextTypes = {\n  xScale: PropTypes.func.isRequired,\n  chartConfig: PropTypes.object.isRequired,\n  plotData: PropTypes.array.isRequired,\n  xAccessor: PropTypes.func.isRequired,\n  xAxisZoom: PropTypes.func.isRequired\n};\nexport default ZoomButtons;","map":{"version":3,"mappings":"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","names":["React","Component","PropTypes","path","d3Path","interpolateNumber","last","noop","ZoomButtons","props","_classCallCheck","_this","handleZoomOut","bind","handleZoomIn","zoom","direction","context","xAxisZoom","xScale","plotData","xAccessor","cx","zoomMultiplier","c","domain","_xScale$domain2","start","end","range","map","x","invert","_xScale$range$map$map2","newStart","newEnd","left","right","foo","i","interval","setInterval","shift","length","clearInterval","_this2","chartConfig","width","height","size","heightFromBase","rx","ry","stroke","strokeOpacity","fill","strokeWidth","fillOpacity","textFill","textStrokeWidth","onReset","centerX","Math","round","y","w","h","hLength","wLength","textY","resetX","zoomOut","zoomOutX","moveTo","lineTo","closePath","zoomIn","zoomInX","className","d","toString","transform","onClick","propTypes","number","isRequired","array","string","fontSize","textDy","func","defaultProps","contextTypes","object"],"sources":["C:\\Users\\Lucian\\Documents\\DEV\\nodejs\\stock-market-api\\dev\\static\\node_modules\\src\\lib\\ZoomButtons.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n// import { mean } from \"d3-array\";\n\nimport { path as d3Path } from \"d3-path\";\nimport { interpolateNumber } from \"d3-interpolate\";\n\nimport { last, noop } from \"./utils\";\n\nclass ZoomButtons extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleZoomOut = this.handleZoomOut.bind(this);\n\t\tthis.handleZoomIn = this.handleZoomIn.bind(this);\n\t\tthis.zoom = this.zoom.bind(this);\n\t}\n\tzoom(direction) {\n\t\tconst { xAxisZoom, xScale, plotData, xAccessor } = this.context;\n\t\tconst cx = xScale(xAccessor(last(plotData)));\n\t\t// mean(xScale.range());\n\t\tconst { zoomMultiplier } = this.props;\n\n\t\tconst c = direction > 0 ? 1 * zoomMultiplier : 1 / zoomMultiplier;\n\n\t\tconst [start, end] = xScale.domain();\n\t\tconst [newStart, newEnd] = xScale.range()\n\t\t\t.map(x => cx + (x - cx) * c)\n\t\t\t.map(xScale.invert);\n\n\t\tconst left = interpolateNumber(start, newStart);\n\t\tconst right = interpolateNumber(end, newEnd);\n\n\t\tconst foo = [0.25, 0.3, 0.5, 0.6, 0.75, 1].map(i => {\n\t\t\treturn [left(i), right(i)];\n\t\t});\n\n\t\tthis.interval = setInterval(() => {\n\t\t\txAxisZoom(foo.shift());\n\t\t\tif (foo.length === 0) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tdelete this.interval;\n\t\t\t}\n\t\t}, 10);\n\t}\n\thandleZoomOut() {\n\t\tif (this.interval) return;\n\t\tthis.zoom(1);\n\t}\n\thandleZoomIn() {\n\t\tif (this.interval) return;\n\t\tthis.zoom(-1);\n\t}\n\trender() {\n\t\tconst { chartConfig } = this.context;\n\t\tconst { width, height } = chartConfig;\n\t\tconst { size, heightFromBase, rx, ry } = this.props;\n\t\tconst { stroke, strokeOpacity, fill, strokeWidth, fillOpacity } = this.props;\n\t\tconst { textFill, textStrokeWidth } = this.props;\n\t\tconst { onReset } = this.props;\n\t\tconst centerX = Math.round(width / 2);\n\t\tconst y = height - heightFromBase;\n\n\t\tconst [w, h] = size;\n\t\tconst hLength = 5;\n\t\tconst wLength = 6;\n\n\t\tconst textY = Math.round(y + h / 2);\n\n\t\tconst resetX = centerX;\n\n\t\tconst zoomOut = d3Path();\n\t\tconst zoomOutX = centerX - w - 2 * strokeWidth;\n\t\tzoomOut.moveTo(zoomOutX - wLength, textY);\n\t\tzoomOut.lineTo(zoomOutX + wLength, textY);\n\t\tzoomOut.closePath();\n\n\t\tconst zoomIn = d3Path();\n\t\tconst zoomInX = centerX + w + 2 * strokeWidth;\n\n\t\tzoomIn.moveTo(zoomInX - wLength, textY);\n\t\tzoomIn.lineTo(zoomInX + wLength, textY);\n\n\t\tzoomIn.moveTo(zoomInX, textY - hLength);\n\t\tzoomIn.lineTo(zoomInX, textY + hLength);\n\t\t// zoomIn.closePath();\n\n\t\treturn (\n\t\t\t<g className=\"react-stockcharts-zoom-button\">\n\t\t\t\t<rect\n\t\t\t\t\tx={zoomOutX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<path d={zoomOut.toString()}\n\t\t\t\t\tstroke={textFill}\n\t\t\t\t\tstrokeWidth={textStrokeWidth}\n\t\t\t\t/>\n\t\t\t\t<rect\n\t\t\t\t\tx={resetX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<g transform={`translate (${resetX}, ${y + h / 4}) scale(.14)`}>\n\t\t\t\t\t<path d=\"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z\"\n\t\t\t\t\t\tfill={textFill}\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t\t<rect\n\t\t\t\t\tx={zoomInX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<path d={zoomIn.toString()}\n\t\t\t\t\tstroke={textFill}\n\t\t\t\t\tstrokeWidth={textStrokeWidth}\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction out\"\n\t\t\t\t\tonClick={this.handleZoomOut}\n\t\t\t\t\tx={zoomOutX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction reset\"\n\t\t\t\t\tonClick={onReset}\n\t\t\t\t\tx={resetX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction in\"\n\t\t\t\t\tonClick={this.handleZoomIn}\n\t\t\t\t\tx={zoomInX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nZoomButtons.propTypes = {\n\tzoomMultiplier: PropTypes.number.isRequired,\n\tsize: PropTypes.array.isRequired,\n\theightFromBase: PropTypes.number.isRequired,\n\trx: PropTypes.number.isRequired,\n\try: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tfill: PropTypes.string.isRequired,\n\tfillOpacity: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\ttextDy: PropTypes.string.isRequired,\n\ttextFill: PropTypes.string.isRequired,\n\ttextStrokeWidth: PropTypes.number.isRequired,\n\tonReset: PropTypes.func,\n};\n\nZoomButtons.defaultProps = {\n\tsize: [30, 24],\n\theightFromBase: 50,\n\trx: 3,\n\try: 3,\n\tstroke: \"#000000\",\n\tstrokeOpacity: 0.3,\n\tstrokeWidth: 1,\n\tfill: \"#D6D6D6\",\n\tfillOpacity: 0.4,\n\tfontSize: 16,\n\ttextDy: \".3em\",\n\ttextFill: \"#000000\",\n\ttextStrokeWidth: 2,\n\tzoomMultiplier: 1.5,\n\tonReset: noop,\n};\n\nZoomButtons.contextTypes = {\n\txScale: PropTypes.func.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nexport default ZoomButtons;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}